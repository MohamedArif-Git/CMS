<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin â€” Add Cargo Employee</title>
  <style>
    /* style.css - offline styles for Add Cargo Employee form */

/* Reset-ish */
* { box-sizing: border-box; margin: 0; padding: 0; }
html,body { height: 100%; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:#f4f6f8; color:#1f2937; -webkit-font-smoothing:antialiased; }

/* Container */
.container {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px;
}

/* Card */
.card {
  width: 100%;
  max-width: 980px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 8px 28px rgba(22,28,37,0.08);
  padding: 28px;
  overflow: hidden;
}

/* Header */
.form-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 18px;
}
.form-head h1 { font-size: 20px; font-weight: 600; color: #0f1724; }
.form-head p { font-size: 13px; color: #475569; margin-top: 4px; line-height: 1.3; }
.badge {
  background: linear-gradient(90deg,#0ea5a4,#2563eb);
  color: #fff;
  padding: 8px 12px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 600;
}

/* Alerts */
.alert { padding: 10px 12px; border-radius: 8px; margin-bottom: 12px; font-size:14px; }
.alert-success { background:#ecfdf5; color:#065f46; border:1px solid rgba(6,95,70,0.08); }
.alert-error { background:#ffebe6; color:#7c1d0d; border:1px solid rgba(124,29,13,0.06); }

/* Section title */
.section-title { margin-top: 18px; margin-bottom: 8px; display:flex; align-items:center; justify-content:space-between; gap:12px; }
.section-title h2 { font-size:16px; font-weight:700; color:#0b1220; }
.section-title span { font-size:12px; color:#64748b; }

/* Grid */
.grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 14px;
  margin-top: 10px;
}
@media (max-width:720px) {
  .grid { grid-template-columns: 1fr; }
}

/* Field */
.field { display:flex; flex-direction:column; gap:6px; }
.field label { font-size:13px; color:#0b1220; font-weight:600; }
.field input[type="text"],
.field input[type="email"],
.field input[type="date"],
.field input[type="file"],
.field textarea,
.field select {
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid #e6eef6;
  background: #fbfdff;
  font-size:14px;
  color:#0b1220;
  outline: none;
  transition: box-shadow .12s, border-color .12s;
}
.field input:focus,
.field textarea:focus,
.field select:focus {
  border-color: rgba(37,99,235,0.6);
  box-shadow: 0 6px 18px rgba(37,99,235,0.06);
}

/* textarea */
textarea { min-height: 84px; resize:vertical; }

/* two-col stretch */
.field.two-col { grid-column: span 2; }

/* File preview area */
.file-preview { display:flex; align-items:center; gap:12px; }
.file-preview input[type="file"] { padding:6px 8px; }
.avatar {
  width:68px;
  height:68px;
  border-radius:999px;
  object-fit:cover;
  background:#f1f5f9;
  border: 1px solid #e6eef6;
  display: none;
}

/* Actions */
.actions {
  display:flex;
  gap: 10px;
  justify-content: flex-end;
  margin-top: 18px;
}
.btn-primary, .btn-ghost {
  padding: 10px 16px;
  border-radius: 10px;
  font-weight: 700;
  font-size:14px;
  cursor:pointer;
  border: none;
}
.btn-primary { background: linear-gradient(90deg,#2563eb,#0ea5a4); color:#fff; box-shadow: 0 8px 20px rgba(37,99,235,0.12); }
.btn-primary:disabled { opacity:0.6; cursor:not-allowed; }
.btn-ghost { background: transparent; color: #0b1220; border: 1px solid #e6eef6; }

/* Small helper text / errors */
.helper { font-size:12px; color:#64748b; margin-top:6px; }
.error-msg { font-size:12px; color:#b91c1c; margin-top:6px; }

/* Small form tweaks */
input[readonly] { background:#f8fafc; color:#334155; }

/* Responsive tweaks */
@media (max-width:480px) {
  .form-head { flex-direction: column; align-items:flex-start; gap:8px; }
  .actions { flex-direction: column-reverse; align-items:stretch; }
  .btn-primary, .btn-ghost { width:100%; }
}

  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <header class="form-head">
        <div>
          <h1>Add Cargo Employee</h1>
          <p>Register a new employee for cargo operations. Required fields are marked *</p>
        </div>
        <div class="badge">Cargo Admin</div>
      </header>
      
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      <form id="cargoEmployeeForm" method="POST" action="{{ url_for('admin_employee_registration') }}" enctype="multipart/form-data" autocomplete="off">
  
        <div class="section-title"><h2>Basic Information</h2><span>Personal details</span></div>
        <div class="grid">
            <div class="field">
            <label for="name">Full Name *</label>
            <input id="name" name="name" type="text" required placeholder="Employee full name" />
            </div>
            <div class="field">
            <label for="email">Email *</label>
            <input id="email" name="email" type="email" required placeholder="name@example.com" />
            </div>
            <div class="field">
            <label for="phone">Contact Number *</label>
            <input id="phone" name="phone" type="text" required placeholder="+91 98765 43210" />
            </div>
            <div class="field two-col">
            <label for="address">Address</label>
            <textarea id="address" name="address" placeholder="Street, city, state, postal code"></textarea>
            </div>
            <div class="field">
            <label for="photo">Photo</label>
            <div class="file-preview">
                <input id="photo" name="photo" type="file" accept="image/*" />
                <img id="photoPreview" class="avatar" alt="preview" />
            </div>
            </div>
        </div>

        <div class="section-title"><h2>Job Information</h2><span>Role & department</span></div>
        <div class="grid">
            <div class="field">
                <label for="department">Department *</label>
                <select id="department" name="department" required>
                    <option value="">Select department</option>
                    <option value="logistics">Logistics</option>
                    <option value="warehouse">Warehouse</option>
                    <option value="customer_service">Customer Service</option>
                    <option value="management">Management</option>
                    <option value="driver">Driver</option>
                </select>
            </div>
            <div class="field">
                <label for="role">Job Role *</label>
                <input id="role" name="role" type="text" required placeholder="e.g. Supervisor, Loader, Manager" />
            </div>
            <div class="field">
                <label for="employmentType">Employment Type</label>
                <select id="employmentType" name="employmentType">
                    <option value="Full-time">Full-time</option>
                    <option value="Contract">Contract</option>
                    <option value="Outsourced">Outsourced</option>
                </select>
            </div>
            <div class="field">
                <label for="joinDate">Date of Joining *</label>
                <input id="joinDate" name="joinDate" type="date" required />
            </div>
            <div class="field">
                <label for="location">Work Location</label>
                <input id="location" name="location" type="text" placeholder="Cargo hub / warehouse" />
            </div>
        </div>

        <div class="actions">
            <button type="reset" class="btn-ghost">Reset</button>
            <button type="submit" class="btn-primary">Save Employee</button>
        </div>
        </form>

    </div>
  </div>

  <script>// This script handles the live preview for the photo upload.
document.getElementById('photo').addEventListener('change', function(e) {
  const file = e.target.files[0];
  const preview = document.getElementById('photoPreview');
  
  if (!file) {
    preview.src = '';
    return;
  }

  const reader = new FileReader();
  reader.onload = function(event) {
    preview.src = event.target.result;
  }
  reader.readAsDataURL(file);
});

// Optional: You can add client-side validation here if you want
document.getElementById('cargoEmployeeForm').addEventListener('submit', function(e){
  console.log('Form is being submitted to the server...');
  // The form will now submit normally to the Flask backend.
});
</script>
</body>
</html>